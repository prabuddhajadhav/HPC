#include <stdio.h>
#include "cuda_runtime.h"
#include "device_launch_parameters.h"
#include<bits/stdc++.h>
#include <iostream>
using namespace std;
int n;

__global__ void BSearch(int* da,int num,int n)				// kernel function definition
{

	const int tid = blockIdx.x*blockDim.x + threadIdx.x;

         if(da[tid]==num)
		    da[0]=tid;
}
int main()
{
	int num,nb;
	printf("\n Enter number of elements :");   //you can give any large number
	scanf("%d",&n);
	int a[n+1];
	time_t t;
    srand((unsigned)time(&t));
    a[0]=-1;
    for(unsigned i = 1 ; i <= n ; i++)
    {
    	    	    		a[i]=a[i-1]+rand()%n;  //for generating sorted random sequence
    }

    printf("\n\n Generated array\n");
    for(int i=1; i <=n;i++)
    	printf("%d\t ",a[i]);
    printf("\n Enter number to be searched :");
    scanf("%d",&num);
    //allocating number of blocks

    if(n%1024==0)
    	nb=n/1024;
    else
    	nb=n/1024 +1;

    int* da;//GPU parameter
    //int dpos;

    	cudaMalloc(&da, (n+1)*sizeof(int));		//assign memory to parameters on GPU

    	cudaMemcpy(da, a, (n+1)*sizeof(int), cudaMemcpyHostToDevice);		//copy the array from CPU to GPU

    BSearch<<<nb,1024>>>(da,num,n);
int result;
    cudaMemcpy(&result, da, sizeof(int), cudaMemcpyDeviceToHost);
 if(result==-1)
        	printf("\nElement not found");
    else
    	printf("\nElement found at %d",result);

return 0;
}/*
Enter number of elements :1002


 Generated array
499	 1021	 1184	 1782	 2733	 3144	 3544	 3810	 4559	 5343	 6325	 6717	 7103	 7520	 7744
7921	 8656	 9263	 9518	 9893	 9959	 10270	 10360	 10614	 11404	 11538	 11719	 12494	 13205
13889	 14514	 15472	 15677	 16212	 16766	 16920	 17612	 18312	 18478	 18918	 19146	 20041	 20619
20980	 21290	 21838	 22376	 22420	 22573	 23366	 23531	 23750	 23852	 23853	 24072	 24711	 25595
25741	 26153	 26492	 27323	 28107	 28402	 29184	 29247	 29842	 30524	 31279	 31572	 32167	 32360
32628	 33116	 33633	 34262	 35060	 35123	 35288	 35876	 36092	 37050	 37804	 37986	 38792	 39293
39694	 40137	 40520	 40814	 41416	 42139	 43010	 43140	 43156	 43807	 44000	 44612	 44943	 45891
46542	 47468	 48356	 49275	 49433	 49836	 50382	 51339	 51552	 52009	 52552	 52727	 53140	 53181
53538	 54504	 54793	 55298	 55451	 56123	 56922	 57677	 57816	 58484	 59369	 59525	 59842	 59918
60432	 60826	 61597	 61760	 61825	 62228	 63057	 63280	 63832	 63951	 64877	 65642	 66219	 66433
67374	 68110	 68111	 68407	 68853	 69143	 69944	 70544	 71507	 71851	 72204	 72304	 72314	 73299
73301	 73374	 74181	 74443	 74657	 75233	 75405	 75430	 76409	 77410	 78406	 78936	 79802	 80723
80762	 81203	 82084	 83064	 83988	 84870	 84891	 85259	 86178	 86746	 87714	 88594	 89507	 89573
90299	 91222	 92019	 92494	 93237	 93839	 94576	 95533	 95710	 96365	 97347	 98249	 98903	 99879
100055	 100320	 100961	 101177	 101629	 102149	 103091	 103465	 103612	 104575	 105064	 105128	 105404	 105605
106295	 106482	 106495	 106655	 107511	 108321	 108702	 109045	 109456	 110321	 110619	 110953	 111471	 111495
111729	 111900	 112647	 112804	 112986	 113372	 113491	 114125	 114778	 114837	 115592	 116392	 117161	 117403
118013	 118056	 118245	 118543	 119521	 119724	 119928	 120760	 120771	 121357	 121531	 121953	 122402	 122620
123122	 124089	 125080	 125817	 126701	 127437	 128077	 128141	 128261	 129020	 129719	 130238	 131056	 131254
131317	 131902	 132088	 132761	 133135	 133510	 134227	 134577	 135155	 136077	 137006	 137342	 137848	 138697
139201	 140156	 140969	 140974	 141640	 142442	 143184	 143733	 144269	 144649	 145262	 145665	 146550	 146606
147528	 148229	 148229	 149215	 149246	 149432	 150089	 150494	 151056	 151429	 151931	 152817	 152856	 153285
153505	 154050	 154072	 154797	 155041	 155876	 156606	 157516	 158152	 158368	 158825	 158995	 159337	 160154
160727	 160952	 161571	 161811	 162737	 163357	 163581	 164284	 165090	 165717	 165824	 165936	 166682	 167037
168036	 168821	 169351	 169568	 169642	 170194	 171136	 171454	 171839	 172509	 172736	 173503	 174389	 174819
175757	 176731	 177724	 177979	 178176	 178787	 179282	 179404	 179633	 180098	 180923	 181704	 181795	 182473
183367	 183950	 184729	 185620	 185733	 186040	 186146	 186333	 187192	 187987	 188493	 189484	 189693	 190172
190928	 191770	 192425	 192863	 193677	 194324	 195018	 195028	 195284	 196219	 197099	 197330	 197729	 198432
199190	 199426	 199552	 199948	 200513	 201418	 201703	 202381	 203340	 203478	 204090	 204652	 205585	 205701
206252	 207140	 207481	 207533	 208261	 209003	 209493	 210034	 210421	 211351	 211902	 212291	 213155	 213584
214204	 214211	 215089	 215212	 216203	 216953	 217472	 217772	 218172	 218723	 219702	 220059	 220748	 221337
222256	 222622	 223073	 223288	 223540	 224078	 224345	 225326	 225604	 226361	 226881	 227293	 227725	 228542
229343	 229383	 229627	 229793	 230588	 230708	 230997	 231781	 232398	 232952	 233782	 233797	 233900	 234453
234825	 235363	 235503	 235538	 236442	 236779	 237029	 237932	 238553	 239070	 239698	 240344	 240363	 241257
241313	 241510	 242219	 243076	 243313	 244266	 244287	 244317	 245136	 245192	 245752	 246186	 246797	 247185
247380	 247840	 248782	 249349	 250348	 251176	 251525	 252426	 253338	 253937	 254485	 254762	 255625	 255799
256722	 257350	 257416	 258395	 259220	 259995	 260576	 261384	 261856	 262204	 263042	 263078	 263229	 263371
263587	 264349	 264625	 265037	 265257	 266221	 266946	 267911	 268702	 268774	 269385	 269832	 270504	 270661
271385	 271664	 271996	 272388	 273041	 273185	 273300	 273522	 274188	 274884	 274912	 275048	 275839	 276451
277371	 278313	 279067	 279202	 279650	 280426	 280973	 281387	 282126	 282396	 282774	 283048	 283391	 284380
284847	 285608	 285752	 285941	 286727	 286949	 287276	 287713	 287826	 288269	 288928	 289707	 290592	 291025
291686	 292360	 292403	 292983	 293597	 294140	 294855	 295663	 295980	 295986	 296207	 297009	 297031	 297630
297704	 297815	 298401	 298942	 299560	 300036	 300513	 300915	 301360	 301910	 302495	 303053	 304046	 305036
305371	 305994	 306161	 306903	 307198	 307408	 307728	 308384	 308883	 309664	 310126	 310689	 311222	 311905
312268	 312824	 312850	 313034	 313701	 314059	 314530	 314560	 315395	 316089	 316521	 316799	 317042	 317806
318388	 319370	 319868	 320785	 321388	 322054	 322711	 323356	 324232	 324956	 325255	 325375	 325624	 326131
326814	 327597	 328534	 329326	 329409	 330372	 331094	 331590	 331656	 331848	 332374	 333275	 333907	 334612
335537	 336412	 336625	 337130	 337732	 338443	 338609	 338812	 339187	 339756	 340604	 341602	 341639	 342532
342648	 342935	 343080	 343625	 344441	 344521	 344602	 345247	 346036	 346840	 346979	 347580	 348322	 348734
349234	 349606	 349721	 349890	 350884	 351212	 351886	 352480	 353265	 353851	 354394	 354553	 354707	 354843
355746	 355937	 356712	 356729	 356953	 357873	 358181	 358219	 358965	 359354	 360037	 360317	 361256	 361825
362706	 363385	 364366	 364492	 365290	 366132	 366427	 367217	 368133	 368849	 368977	 369676	 369976	 370647
371251	 371705	 372512	 373017	 373409	 373990	 374258	 374874	 375373	 375949	 376350	 377342	 378054	 378884
379154	 379549	 379692	 380589	 381410	 382280	 382301	 382918	 383374	 383691	 383842	 384212	 384243	 384522
385338	 385415	 386111	 386275	 386553	 387055	 387725	 388395	 389224	 389908	 389938	 390010	 390015	 390192
390254	 390717	 391471	 391549	 392407	 393304	 394280	 394703	 395469	 396212	 396998	 397966	 398024	 398961
399298	 400135	 401097	 401996	 402657	 403060	 403121	 404060	 404965	 405442	 405795	 406527	 406687	 407070
407620	 407785	 408092	 408705	 409079	 409138	 409575	 409805	 410507	 410918	 411572	 411784	 411937	 412375
412554	 413513	 413633	 413895	 414436	 415264	 415423	 415623	 415852	 416820	 416957	 417837	 418027	 418517
418873	 418969	 419588	 420495	 420502	 421174	 421438	 421819	 422550	 423251	 423862	 424294	 425153	 425162
425552	 426310	 426504	 427073	 427788	 427848	 428679	 428679	 429313	 430049	 430249	 431113	 431816	 431899
432387	 433280	 433599	 434444	 435433	 436118	 436868	 437864	 438219	 438231	 438352	 439185	 439644	 440376
440639	 440955	 441443	 442096	 442168	 442596	 443565	 444099	 444587	 445385	 445919	 446039	 446572	 447307
448037	 449019	 449583	 449800	 450419	 451303	 452111	 452463	 453030	 453332	 453678	 454346	 454660	 455127
455626	 456145	 457090	 457598	 458434	 458611	 459519	 460427	 461032	 461907	 462347	 463186	 463857	 464832
465538	 466488	 466942	 467122	 468052	 468816	 468959	 469506	 469898	 470849	 471748	 472707	 472958	 473949
474321	 474632	 474834	 475705	 476536	 477430	 477808	 478219	 479036	 479320	 479637	 479804	 480709	 481213
481217	 481537	 481760	 482216	 482485	 482908	 483545	 484490	 484675	 485201	 485438	 486016	 486492	 487374
487655	 488128	 488746	 489399	 490184	 491004	 491273	 491633	 492091	 492484	 493255	 493529	 493952	 494786
494973	 495299	 495635	 495826	 496472	 496777	 497171	 498086	 498814	 499591	 500450	 501110	 501411	 502253
502489	 503012	 503734	 503997	 504994	 505332	 505995	 506521	 507426	 508358	 509244	 509605	 509928	 510329
510710	 511456	 511689	 512257	 512327	 512643	 513149
 Enter number to be searched :9518

Element found at 19*/
