#include<stdio.h>
#include<cuda.h>
#include<stdlib.h>
#define DIVIDER	10000
__global__ void even(int *darr,int n)
{
   int k=blockIdx.x*512+threadIdx.x;
    int t;
     k=k*2; //for even positions
      if(k< n-1)
       {
          if(darr[k]>darr[k+1])
            {  //swap the numbers
               t=darr[k];
                darr[k]=darr[k+1];
                darr[k+1] =t;
             }
       }
}

__global__ void odd(int *darr,int n)
{
   int k=blockIdx.x*512+threadIdx.x;
    int t;
     k=k*2 +1; //for odd positions
      if(k< n-1)
       {
          if(darr[k]>darr[k+1])
            {  //swap the numbers
               t=darr[k];
                darr[k]=darr[k+1];
                darr[k+1] =t;
             }
       }
}
int main()
{
 int *arr,*darr;
 int n,i;
 time_t t;
     srand((unsigned)time(&t));
  printf("\n Enter how many numbers :");
  scanf("%d",&n);
  arr=(int *)malloc(n*sizeof(int));  //for dynamic inputs

   for(i=0; i<n; i++)
	{
		arr[i] = (rand() % DIVIDER) + 1;
        }
   printf("\n UNSORTED ARRAY  \n");
     for(i=0; i<n; i++)
        printf("\t%d",arr[i]);

  cudaMalloc(&darr,n*sizeof(int));  //memory allocation in GPU for darr
  cudaMemcpy(darr,arr ,n*sizeof(int) ,cudaMemcpyHostToDevice); // data transfer from host to GPU

  for(i=0;i<=n/2;i++)
   {
       even<<<n/1024+1,512>>>(darr,n);
       odd<<<n/1024+1,512>>>(darr,n);
   }
cudaMemcpy(arr,darr,n*sizeof(int),cudaMemcpyDeviceToHost);

printf("\n SORTED ARRAY  \n");
     for(i=0; i<n; i++)
      printf("\t%d",arr[i]);

}
/*
*****************************output******************************************************

Enter how many numbers :1070

UNSORTED ARRAY
	4332	4334	2422	4945	7974	1295	8969	555	6155	8599	5802	2480	7514
	491	3373	8094	7801	2145	2270	9097	2843	7732	9978	4217	9980	8368
	8960	4001	8449	2586	2838	9133	3272	1612	4077	1245	2906	3045
	1799	9060	7995	3953	7892	5509	4443	7616	3602	8596	9760	2223
	7692	2602	9954	7669	6818	6285	6037	5778	285	837	4715	9475	9969
	7986	1086	4046	9231	343	3442	7381	5754	7789	7685	9997	9649	2128
	7612	9602	723	7371	1824	4766	9973	8129	2434	6790	4413	4822	8919
	1050	2011	9986	524	1979	7971	7961	2376	3553	4655	2170	7286	408
	9958	4970	405	9606	3449	8016	9207	523	5387	7382	5288	1711	5510
	4074	4852	6274	8895	123	7323	905	108	4198	9236	8078	2158	7963	7983
	6812	132	5268	3572	6441	237	328	2398	38	8343	7956	560	81	5337	2200	1791
	7198	6273	2995	3472	1519	3117	794	8776	3224	4992	8011	7653	3501
	2325	5635	313	8809	7254	236	5249	7491	563	3999	3880	5257	1954	791	1690
	3643	2990	9832	840	5614	2826	4311	7133	5942	1457	5908	9165	6448
	270	3170	9948	2594	8804	6612	1402	6058	3199	3003	9900	3761	7001
	131	5370	5306	921	7059	5300	3911	6890	6140	9524	9716	6802	3008	2009
	8258	5267	7526	1057	5536	695	1005	8130	5850	3968	5883	8259	7167
	8885	4510	7279	2237	4640	2648	3895	1913	9706	9194	5823	2948	1685
	1698	9015	8487	1058	1023	3096	6324	8548	4153	1860	5594	1509	6341
	1444	1828	8575	6054	8994	3812	564	6273	6048	1555	5272	6294	3467
	4978	5488	5641	4277	7172	3691	3291	2010	1100	4313	5106	7423	9213
	5610	5634	4806	3470	8326	2601	5297	6901	8655	4291	712	5570	6915
	3111	3476	2186	9405	6943	3515	1244	8935	7791	8415	2625	1081	6777
	76	1746	8234	7499	958	3843	9484	5763	7312	7810	8364	8960	4710	3370
	9602	1773	8939	6516	4883	2414	5054	639	5708	4920	1882	4643	9063
	6649	3619	6495	3425	3695	8240	1658	7545	9197	1852	7028	1312	5515
	4837	9675	4474	5898	9396	4076	4022	4686	6943	5257	3451	8348	5895
	9159	9620	4129	153	8682	777	123	1528	4201	169	9768	2210	4065	5316	4061
	1093	6627	5927	2281	2653	400	4531	2048	827	8552	3085	7770	160	6536	2469
	6055	5694	2088	183	2198	7121	7311	8672	8649	1511	8841	4768	72	2905
	83	4132	349	3062	58	8982	2066	6809	3512	466	7636	8415	3550	1757	4927
	85	4225	981	2130	2665	7515	679	9785	4825	9351	4785	2687	8191	5904	2758
	7447	5987	3241	7796	5400	9650	3129	7465	2810	2992	4282	445	1406	7832
	8553	6332	4268	2778	3664	6398	1794	7530	7076	7930	8706	6426	2715
	7744	968	8618	6853	8415	956	6445	2562	2707	2446	5690	172	5256	8681	4453
	2052	6438	8636	605	9122	2904	9734	9137	5653	1527	3019	9080	9456	8076
	5506	8522	5820	2825	7140	2672	7591	4447	5469	6504	7154	7914	8545
	3677	3169	3577	4481	1573	6367	3117	2177	5488	6020	1910	976	8024	9788
	3994	7103	9243	2070	8960	7765	4241	1785	1256	3264	5727	5702	8732
	2231	2855	2998	7127	2883	2518	704	7364	4090	7070	480	2618	8909	2851
	4527	9884	874	666	230	7976	9909	8651	3288	4025	2891	5072	1632	6154	7150
	7333	1238	9380	6540	4235	6507	9422	6752	3562	6785	7194	631	3616	9811
	9539	6466	690	5774	3691	1355	6003	8019	7615	4653	1306	1639	3895	6377
	3270	49	3526	6955	7638	9258	9846	8224	2116	9267	1327	5677	2404	8520
	6307	6019	8331	2197	8837	5372	7970	2527	6726	3973	545	4341	4977	1850
	2331	8872	4578	1953	5272	4456	5259	2909	65	5104	1132	2180	722	8810
	4208	3125	7330	514	5496	2012	9062	684	7383	7031	3210	4108	7355	107	4800
	8684	8308	7131	7555	9238	5435	9178	3693	693	8438	109	5796	5921	8640
	6517	4730	2847	5994	2059	9712	7841	4070	8773	8524	7804	2155	8085
	1912	9510	8191	3063	8193	2851	6545	2099	2088	1979	1276	2132	2671
	9713	2240	4818	5633	879	1335	362	3725	3680	8773	9788	1520	9194	8560
	6395	6998	714	4479	5261	6575	2670	8323	1119	5520	4868	9569	3959	3198
	844	6090	5869	6908	4681	686	8892	5559	8372	5606	5635	2051	4378	5422
	9922	9923	333	6316	6920	7398	795	2180	3973	9816	6855	1443	1687	8074
	1012	5645	1271	8207	8086	3491	5115	2766	529	358	4676	8900	5963	6662
	7303	6692	2083	7224	6615	8767	9892	3534	6164	7038	2066	6488	6853
	5272	4283	8539	3345	5294	535	967	3500	8620	4458	4966	1385	1338	5324
	2412	237	7638	9073	7539	4330	7507	1115	944	6273	7358	829	8788	4395	9246
	1628	1247	4517	5910	6137	4213	7555	6671	1532	7406	1642	2341	2372
	9378	3678	4047	1789	3914	1684	861	7805	6013	8367	5271	3308	991	2628
	4137	9778	7022	3382	1405	4620	4251	3666	756	8463	1220	3778	9994	4978
	1771	2334	7349	1148	6011	7747	2936	6277	5782	3796	4081	1795	8514
	9351	1454	9504	8330	5590	5633	5351	5324	3390	9970	9574	7055	7077
	8036	4627	7206	4382	9604	8976	3067	3304	6475	5430	7402	9410	1706
	3183	9557	2138	1329	4422	1488	2783	3925	9817	8372	5909	1519	47	9298
	7840	9620	2705	1268	4008	3683	4825	4741	9638	152	7807	9293	6626	3236
	6694	6035	4941	6228	1943	7078	7557	6364	4917	339	6640	1085	5062	2548
	8955	5109	8198	6794	1080	7254	4413	5087	936	9237	9827	573	9388	3986
	9865	6013	7221	2910	8399	8514	9137	341	1943	6693	3056	6860	3383	9695
	4296	8445	8595	3251	9905	3144	6396	984	397	809	2423	1332	45	8601	8256
	5785	8938	4472	1797	6159	7381	196	1024	2869	6888	2966	5914	6296	6177
	9296	2342	6825	4092	936	75	348	431	2822	7684	827	3630	106	2158	27	5058	6765
	5811	3996	1236	3959	6506	4968	506	7529	7837	3746	6846	3750	41	3023
	3045	2382	9847	3489	9670	6273	3836	6452	5446	1519	7279	5428	7976
	5788	5454	3034	2553	7616	3381	3788	7926	9886	8756	8432	3766	2944
	8529	611	6693	4921	9985	6089	7302	6183	9577	3323	8807	3413	9775	4253
	1283	3405	9680	9259	9192	1485	2292	1744	5452	2024	1884	3377	8261
	6991	8160	2026	9934	6688	8988	2978	1608	5325	9066	5262	7859	4995
	4936
SORTED ARRAY
	27	38	41	45	47	49	58	65	72	75	76	81	83	85	106	107	108	109	123	123	131	132	152	153	160	169	172
	183	196	230	236	237	237	270	285	313	328	333	339	341	343	348	349	358	362	397	400	405	408	431	445	466	480	491
	506	514	523	524	529	535	545	555	560	563	564	573	605	611	631	639	666	679	684	686	690	693	695	704	712	714	722
	723	756	777	791	794	795	809	827	827	829	837	840	844	861	874	879	905	921	936	936	944	956	958	967	968	976	981
	984	991	1005	1012	1023	1024	1050	1057	1058	1080	1081	1085	1086	1093	1100
	1115	1119	1132	1148	1220	1236	1238	1244	1245	1247	1256	1268	1271	1276
	1283	1295	1306	1312	1327	1329	1332	1335	1338	1355	1385	1402	1405	1406
	1443	1444	1454	1457	1485	1488	1509	1511	1519	1519	1519	1520	1527	1528
	1532	1555	1573	1608	1612	1628	1632	1639	1642	1658	1684	1685	1687	1690
	1698	1706	1711	1744	1746	1757	1771	1773	1785	1789	1791	1794	1795	1797
	1799	1824	1828	1850	1852	1860	1882	1884	1910	1912	1913	1943	1943	1953
	1954	1979	1979	2009	2010	2011	2012	2024	2026	2048	2051	2052	2059	2066
	2066	2070	2083	2088	2088	2099	2116	2128	2130	2132	2138	2145	2155	2158
	2158	2170	2177	2180	2180	2186	2197	2198	2200	2210	2223	2231	2237	2240
	2270	2281	2292	2325	2331	2334	2341	2342	2372	2376	2382	2398	2404	2412
	2414	2422	2423	2434	2446	2469	2480	2518	2527	2548	2553	2562	2586	2594
	2601	2602	2618	2625	2628	2648	2653	2665	2670	2671	2672	2687	2705	2707
	2715	2758	2766	2778	2783	2810	2822	2825	2826	2838	2843	2847	2851	2851
	2855	2869	2883	2891	2904	2905	2906	2909	2910	2936	2944	2948	2966	2978
	2990	2992	2995	2998	3003	3008	3019	3023	3034	3045	3045	3056	3062	3063
	3067	3085	3096	3111	3117	3117	3125	3129	3144	3169	3170	3183	3198	3199
	3210	3224	3236	3241	3251	3264	3270	3272	3288	3291	3304	3308	3323	3345
	3370	3373	3377	3381	3382	3383	3390	3405	3413	3425	3442	3449	3451	3467
	3470	3472	3476	3489	3491	3500	3501	3512	3515	3526	3534	3550	3553	3562
	3572	3577	3602	3616	3619	3630	3643	3664	3666	3677	3678	3680	3683	3691
	3691	3693	3695	3725	3746	3750	3761	3766	3778	3788	3796	3812	3836	3843
	3880	3895	3895	3911	3914	3925	3953	3959	3959	3968	3973	3973	3986	3994
	3996	3999	4001	4008	4022	4025	4046	4047	4061	4065	4070	4074	4076	4077
	4081	4090	4092	4108	4129	4132	4137	4153	4198	4201	4208	4213	4217	4225
	4235	4241	4251	4253	4268	4277	4282	4283	4291	4296	4311	4313	4330	4332
	4334	4341	4378	4382	4395	4413	4413	4422	4443	4447	4453	4456	4458	4472
	4474	4479	4481	4510	4517	4527	4531	4578	4620	4627	4640	4643	4653	4655
	4676	4681	4686	4710	4715	4730	4741	4766	4768	4785	4800	4806	4818	4822
	4825	4825	4837	4852	4868	4883	4917	4920	4921	4927	4936	4941	4945	4966
	4968	4970	4977	4978	4978	4992	4995	5054	5058	5062	5072	5087	5104	5106
	5109	5115	5249	5256	5257	5257	5259	5261	5262	5267	5268	5271	5272	5272
	5272	5288	5294	5297	5300	5306	5316	5324	5324	5325	5337	5351	5370	5372
	5387	5400	5422	5428	5430	5435	5446	5452	5454	5469	5488	5488	5496	5506
	5509	5510	5515	5520	5536	5559	5570	5590	5594	5606	5610	5614	5633	5633
	5634	5635	5635	5641	5645	5653	5677	5690	5694	5702	5708	5727	5754	5763
	5774	5778	5782	5785	5788	5796	5802	5811	5820	5823	5850	5869	5883	5895
	5898	5904	5908	5909	5910	5914	5921	5927	5942	5963	5987	5994	6003	6011
	6013	6013	6019	6020	6035	6037	6048	6054	6055	6058	6089	6090	6137	6140
	6154	6155	6159	6164	6177	6183	6228	6273	6273	6273	6273	6274	6277	6285
	6294	6296	6307	6316	6324	6332	6341	6364	6367	6377	6395	6396	6398	6426
	6438	6441	6445	6448	6452	6466	6475	6488	6495	6504	6506	6507	6516	6517
	6536	6540	6545	6575	6612	6615	6626	6627	6640	6649	6662	6671	6688	6692
	6693	6693	6694	6726	6752	6765	6777	6785	6790	6794	6802	6809	6812	6818
	6825	6846	6853	6853	6855	6860	6888	6890	6901	6908	6915	6920	6943	6943
	6955	6991	6998	7001	7022	7028	7031	7038	7055	7059	7070	7076	7077	7078
	7103	7121	7127	7131	7133	7140	7150	7154	7167	7172	7194	7198	7206	7221
	7224	7254	7254	7279	7279	7286	7302	7303	7311	7312	7323	7330	7333	7349
	7355	7358	7364	7371	7381	7381	7382	7383	7398	7402	7406	7423	7447	7465
	7491	7499	7507	7514	7515	7526	7529	7530	7539	7545	7555	7555	7557	7591
	7612	7615	7616	7616	7636	7638	7638	7653	7669	7684	7685	7692	7732	7744
	7747	7765	7770	7789	7791	7796	7801	7804	7805	7807	7810	7832	7837	7840
	7841	7859	7892	7914	7926	7930	7956	7961	7963	7970	7971	7974	7976	7976
	7983	7986	7995	8011	8016	8019	8024	8036	8074	8076	8078	8085	8086	8094
	8129	8130	8160	8191	8191	8193	8198	8207	8224	8234	8240	8256	8258	8259
	8261	8308	8323	8326	8330	8331	8343	8348	8364	8367	8368	8372	8372	8399
	8415	8415	8415	8432	8438	8445	8449	8463	8487	8514	8514	8520	8522	8524
	8529	8539	8545	8548	8552	8553	8560	8575	8595	8596	8599	8601	8618	8620
	8636	8640	8649	8651	8655	8672	8681	8682	8684	8706	8732	8756	8767	8773
	8773	8776	8788	8804	8807	8809	8810	8837	8841	8872	8885	8892	8895	8900
	8909	8919	8935	8938	8939	8955	8960	8960	8960	8969	8976	8982	8988	8994
	9015	9060	9062	9063	9066	9073	9080	9097	9122	9133	9137	9137	9159	9165
	9178	9192	9194	9194	9197	9207	9213	9231	9236	9237	9238	9243	9246	9258
	9259	9267	9293	9296	9298	9351	9351	9378	9380	9388	9396	9405	9410	9422
	9456	9475	9484	9504	9510	9524	9539	9557	9569	9574	9577	9602	9602	9604
	9606	9620	9620	9638	9649	9650	9670	9675	9680	9695	9706	9712	9713	9716
	9734	9760	9768	9775	9778	9785	9788	9788	9811	9816	9817	9827	9832	9846
	9847	9865	9884	9886	9892	9900	9905	9909	9922	9923	9934	9948	9954	9958
	9969	9970	9973	9978	9980	9985	9986	9994	9997
*/
